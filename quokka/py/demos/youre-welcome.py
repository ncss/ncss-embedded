import quokka
import framebuf
import time

quokka.display.fill(0)
quokka.display.show()

HEART = bytearray([0,0,0,128,192,224,240,248,252,252,254,254,255,255,255,255,255,255,255,255,255,255,255,255,254,254,252,252,248,248,224,224,128,0,0,0,0,128,224,240,248,248,252,252,254,254,255,255,255,255,255,255,255,255,255,255,255,255,254,254,252,252,248,240,224,192,128,0,0,0,224,248,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,248,224,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,1,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,31,1,0,0,0,1,7,15,31,127,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127,31,15,7,1,0,0,0,0,0,0,0,0,0,0,0,0,1,3,7,15,31,63,63,127,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127,63,31,31,15,7,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,7,15,31,31,63,127,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127,63,31,31,15,7,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,7,15,31,63,127,255,255,127,63,31,15,7,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,])
heart_fb = framebuf.FrameBuffer(HEART, 70, 64, framebuf.MONO_VLSB)

while True:
  if quokka.buttons.a.was_pressed():
    quokka.display.fill(0)
    quokka.display.text('You', 0, 15, 1, scale=3)
    quokka.display.text('re', 80, 15, 1, scale=3)
    quokka.display.text('\'', 69, 10, 1, scale=2)
    quokka.display.show()
    quokka.neopixels.clear()
    for i in range(4):
      quokka.neopixels.set_pixel(i, 16, 0, 0)
    quokka.neopixels.show()
  if quokka.buttons.b.was_pressed():
    quokka.display.fill(0)
    quokka.display.text('Welcome', 15, 20, 1, scale=2)
    quokka.display.show()
    quokka.neopixels.clear()
    for i in range(4):
      quokka.neopixels.set_pixel(i+4, 8, 0, 16)
    quokka.neopixels.show()
  if quokka.buttons.c.was_pressed():
    quokka.display.fill(0)
    quokka.display.blit(heart_fb, 29, 0)
    quokka.display.show()
    quokka.neopixels.clear()
    for t in range(200):
      for i in range(8):
        quokka.neopixels.set_pixel_rainbow(i, (i*15+t)%120, l=16)
      quokka.neopixels.show()
      time.sleep_ms(10)
